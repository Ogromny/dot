# catppuccin latte
color_base: &color_base 303446ff
color_text: &color_text c6d0f5ff
color_transparent: &color_transparent 00000000
color_red: &color_red e78284ff
color_green: &color_green a6d189ff
color_yellow: &color_yellow e5c890ff
color_blue: &color_blue 8caaeeff

bar_margin: &bar_margin 0

particle_margin: &particle_margin 20
particle_spacing: &particle_spacing 25

i3_margin: &i3_margin 15

font_primary: &font_primary "ComicCodeLigatures Nerd Font:pixelsize=32"

bar:
  height: 48
  location: top
  background: *color_transparent
  margin: 0
  spacing: 0
  border:
    margin: *bar_margin
    bottom-margin: 0
    width: 0
  font: *font_primary
  foreground: *color_text

  left:
    - dwl:
        anchors:
          dwl_default: &dwl_default
            text: "{id}"
            margin: *particle_margin
        number_of_tags: 9
        dwl_info_filename: "/home/ogromny/dwl_info"
        content:
          list:
            items:
              - map:
                  conditions:
                    selected:
                      string:
                        <<: *dwl_default
                        foreground: *color_base
                        deco: {background: {color: *color_blue}}
                    ~empty:
                      string:
                        <<: *dwl_default
                        deco: {background: {color: *color_base}}
                    urgent:
                      string:
                        <<: *dwl_default
                        foreground: *color_base
                        deco: {background: {color: *color_red}}
                    # default tag
                    id == 0:
                      string:
                        text: "{layout} {title}"
                        margin: *particle_margin
                        deco: {background: {color: *color_base}}

  right:
    - pipewire:
        content:
          list:
            items:
              - map:
                  conditions:
                    type == "sink":
                      map:
                        conditions:
                          icon == "audio-headset-bluetooth":
                            string: {text: "🎧  "}
                        default:
                          - ramp:
                              tag: linear_volume
                              items:
                                - string: {text: 🔈}
                                - string: {text: 🔉}
                                - string: {text: 🔊}
                    type == "source":
                      - string: {text: 🎙 }
              - map:
                  conditions:
                    muted: {string: {text: "{linear_volume}%", foreground: *color_red, left-margin: 10}}
                    ~muted: {string: {text: "{linear_volume}%", left-margin: 10}}
            left-margin: *particle_margin
            right-margin: *particle_margin
            deco:
              background:
                color: *color_base
    - battery:
        name: "BAT0"
        anchors:
          discharging: &battery_discharging
            list:
              items:
                - ramp:
                    tag: capacity
                    items:
                      - string: {text:  , foreground: *color_red}
                      - string: {text:  , foreground: *color_yellow}
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  }
                      - string: {text:  , foreground: *color_green}
                - string: {text: " {capacity}%"}
        content:
          map:
            conditions:
              state == unknown:
                <<: *battery_discharging
              state == discharging:
                <<: *battery_discharging
              state == charging:
                - string: {text: , foreground: *color_green}
                - string: {text: " {capacity}%"}
              state == full:
                - string: {text: , foreground: *color_green}
                - string: {text: " {capacity}%"}
              state == not charging:
                <<: *battery_discharging
            left-margin: *particle_margin
            right-margin: *particle_spacing
            deco:
              background:
                color: *color_base
    - clock:
        content:
          string:
            text: " {time}"
            margin: *particle_margin
            deco:
              background:
                color: *color_base
